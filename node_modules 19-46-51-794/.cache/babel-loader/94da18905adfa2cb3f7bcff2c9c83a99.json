{"ast":null,"code":"var _jsxFileName = \"/Users/genta/mapapp-aws1/mapapp-aws1/src/countries/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport axios from \"axios\";\nimport { API } from '../api';\nimport { authService } from '../services/authentication';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const {\n    login\n  } = useContext(AuthContext);\n  const history = useHistory();\n\n  function handleSubmit(values) {\n    setLoading(true);\n    axios.post(API.auth.login, values).then(res => login(res.data.token)).then(res => {\n      history.push(`/countries`);\n    }).finally(() => setLoading(false));\n    return () => null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && \"Loading...\", /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: '',\n        password: ''\n      },\n      onSubmit: handleSubmit,\n      children: ({\n        errors,\n        touched\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this), touched.email && errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          id: \"password\",\n          name: \"password\",\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this), touched.password && errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"uaiJ6l3tCknpejYhbR9OPx4Y8fo=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/genta/mapapp-aws1/mapapp-aws1/src/countries/components/Login.js"],"names":["useState","useContext","Formik","Field","Form","axios","API","authService","AuthContext","useHistory","Login","loading","setLoading","login","history","handleSubmit","values","post","auth","then","res","data","token","push","finally","email","password","errors","touched"],"mappings":";;;AAAA,SAASA,QAAT,EAAkBC,UAAlB,QAAoC,OAApC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,QAAoC,QAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAGA,OAAO,SAASC,KAAT,GAAiB;AAAA;;AACpB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAYZ,UAAU,CAACO,WAAD,CAA5B;AACA,QAAMM,OAAO,GAAGL,UAAU,EAA1B;;AAEA,WAASM,YAAT,CAAsBC,MAAtB,EAA8B;AAC1BJ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAP,IAAAA,KAAK,CAACY,IAAN,CAAWX,GAAG,CAACY,IAAJ,CAASL,KAApB,EAA2BG,MAA3B,EACKG,IADL,CACUC,GAAG,IAAKP,KAAK,CAACO,GAAG,CAACC,IAAJ,CAASC,KAAV,CADvB,EAEKH,IAFL,CAEUC,GAAG,IAAI;AACTN,MAAAA,OAAO,CAACS,IAAR,CAAc,YAAd;AACH,KAJL,EAKKC,OALL,CAKa,MAAMZ,UAAU,CAAC,KAAD,CAL7B;AAMA,WAAO,MAAM,IAAb;AACH;;AAED,sBACI;AAAA,eACKD,OAAO,IAAI,YADhB,eAEI,QAAC,MAAD;AACI,MAAA,aAAa,EAAE;AACXc,QAAAA,KAAK,EAAE,EADI;AAEXC,QAAAA,QAAQ,EAAE;AAFC,OADnB;AAKI,MAAA,QAAQ,EAAEX,YALd;AAAA,gBAOK,CAAC;AAAEY,QAAAA,MAAF;AAAUC,QAAAA;AAAV,OAAD,kBACG,QAAC,IAAD;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,KAAD;AAAO,UAAA,EAAE,EAAC,OAAV;AAAkB,UAAA,IAAI,EAAC,OAAvB;AAA+B,UAAA,WAAW,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGKA,OAAO,CAACH,KAAR,IAAiBE,MAAM,CAACF,KAAxB,iBAAiC;AAAA,oBAAME,MAAM,CAACF;AAAb;AAAA;AAAA;AAAA;AAAA,gBAHtC,eAKI;AAAO,UAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAMI,QAAC,KAAD;AAAO,UAAA,EAAE,EAAC,UAAV;AAAqB,UAAA,IAAI,EAAC,UAA1B;AAAqC,UAAA,IAAI,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,gBANJ,EAOKG,OAAO,CAACF,QAAR,IAAoBC,MAAM,CAACD,QAA3B,iBAAuC;AAAA,oBAAMC,MAAM,CAACD;AAAb;AAAA;AAAA;AAAA;AAAA,gBAP5C,eASI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARR;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4BH;;GA5CehB,K;UAGID,U;;;KAHJC,K;AA8ChB,eAAeA,KAAf","sourcesContent":["import { useState,useContext } from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport axios from \"axios\"\nimport { API } from '../api'\nimport { authService } from '../services/authentication';\nimport { AuthContext } from '../contexts/AuthContext'\nimport {useHistory} from 'react-router-dom';\n\n\nexport function Login() {\n    const [loading, setLoading] = useState(false)\n    const { login } = useContext(AuthContext)\n    const history = useHistory();\n\n    function handleSubmit(values) {\n        setLoading(true)\n        axios.post(API.auth.login, values)\n            .then(res =>  login(res.data.token))\n            .then(res => {\n                history.push(`/countries`)\n            })\n            .finally(() => setLoading(false))\n        return () => null\n    }\n\n    return (\n        <div>\n            {loading && \"Loading...\"}\n            <Formik\n                initialValues={{\n                    email: '',\n                    password: '',\n                }}\n                onSubmit={handleSubmit}>\n\n                {({ errors, touched }) => (\n                    <Form>\n                        <label htmlFor=\"email\">Email</label>\n                        <Field id=\"email\" name=\"email\" placeholder=\"Email\" />\n                        {touched.email && errors.email && <div>{errors.email}</div>}\n\n                        <label htmlFor=\"password\">Password</label>\n                        <Field id=\"password\" name=\"password\" type=\"password\" />\n                        {touched.password && errors.password && <div>{errors.password}</div>}\n\n                        <button type=\"submit\">Submit</button>\n                    </Form>\n                )}\n\n            </Formik>\n        </div>\n    )\n\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}